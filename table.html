<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dynamic Table â€“ QA Playground</title>
  <link rel="stylesheet" href="css/theme.css" />
</head>

<body>

  <script src="js/utils.js"></script>
  <script src="js/layout.js"></script>
  <script>requireAuth();</script>

  <main role="main" aria-labelledby="table-title">

    <!-- Page Header -->
    <section style="margin-bottom: 25px;">
      <h1 id="table-title">Dynamic User Table</h1>
      <p style="opacity:0.85; margin-top:10px;">
        This page exposes a realistic, interactive data table with filtering, sorting,
        pagination, inline editing and row creation.  
        It is designed as a rich target for UI automation and end-to-end testing.
      </p>
    </section>

    <!-- Card: Add User -->
    <section class="card" aria-labelledby="add-user-title">
      <h2 id="add-user-title">Add User</h2>

      <p style="opacity:0.8; margin-bottom:10px;">
        Create a new user to validate dynamic insertion, data consistency and table refresh logic.
      </p>

      <div class="add-user-row">
        <input id="addName" type="text" placeholder="Name (required)" />
        <select id="addRole">
          <option value="Admin">Admin</option>
          <option value="User" selected>User</option>
          <option value="Guest">Guest</option>
        </select>
        <button id="addUserBtn" class="primary-btn">Add</button>
      </div>

      <p id="tableError" class="error hidden" aria-live="assertive"></p>
    </section>

    <!-- Card: Filters & Table -->
    <section class="card" aria-labelledby="load-users-title">
      <h2 id="load-users-title">User List</h2>

      <p style="opacity:0.8; margin-bottom:15px;">
        Use the filters, sorting and pagination controls below to explore different test scenarios.
      </p>

      <!-- FILTERS & PAGE SIZE -->
      <div class="filter-row">
        <input id="filterName" type="text" placeholder="Filter by name..." />
        <select id="filterRole">
          <option value="">All roles</option>
          <option value="Admin">Admin</option>
          <option value="User">User</option>
          <option value="Guest">Guest</option>
        </select>

        <select id="pageSize">
          <option value="5" selected>5 / page</option>
          <option value="10">10 / page</option>
          <option value="20">20 / page</option>
        </select>

        <button id="resetFilters" class="secondary-btn">Reset</button>
      </div>

      <!-- TABLE -->
      <div style="margin-top: 10px;">
        <table id="userTable" aria-label="User information table">
          <thead>
            <tr>
              <th data-sort="id">ID</th>
              <th data-sort="name">Name</th>
              <th data-sort="role">Role</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>

      <!-- PAGINATION -->
      <div class="pagination" aria-label="Table pagination controls">
        <button id="prevPage" class="secondary-btn">Prev</button>
        <span id="pageInfo"></span>
        <button id="nextPage" class="secondary-btn">Next</button>
      </div>
    </section>

  </main>

  <script src="js/table.js"></script>

</body>
</html>
